<!-- app/views/admin/products/new.html.erb -->

<h1>New Product</h1>

<!-- app/views/products/new.html.erb -->

<%= form_with(model: @product, url: administrators_products_path, method: :post, local: true) do |form| %>
  <% if @product.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@product.errors.count, 'error') %> prohibited this product from being saved:</h2>

      <ul>
        <% @product.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>
  <div class="field">
    <%= form.label :name %>
    <%= form.text_field :name , class: 'form-control'%>
  </div>

  <div class="field">
  <!-- Category checkboxes -->
    <%= form.label :categories %>
    <br>

  <% Category.all.each do |category| %>
    <%= form.check_box :category_ids, { multiple: true }, category.id, nil %>
    <%= form.label :category_ids, category.name %><br>
  <% end %>
  </div>

  <div class="field">
    <%= form.label :description %>
    <%= form.text_area :description , class: 'form-control'%>
  </div>

  <div class="field">
    <%= form.label :price %>
    <%= form.number_field :price , class: 'form-control'%>
  </div>

  <div class="field">
    <%= form.label :stock_quantity %>
    <%= form.number_field :stock_quantity, class: 'form-control' %>
  </div>

  <!-- Add other fields as needed -->
<div class="field">
    <%= form.label :thumbnail %>
    <%= form.file_field :thumbnail , class: 'form-control'%>
  </div>

  <div class="form-group">
    <%= form.label :thumbnail %>
    <%= form.text_field :thumbnail, class: 'form-control' %>
  </div>

<!--   <h3>Product Images</h3>
  <%#= form.fields_for :product_images do |image_form| %>
    <div class="field">
      <%#= image_form.label :image %>
      <%#= image_form.file_field :image%>
    </div>
  <%# end %>  -->

  <div class="actions">
    <%= form.submit 'Create Product', class: 'btn btn-primary' %>
  </div>
<% end %>

